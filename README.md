# comm2_6_4-r3tjl
 
Исходные данные:
1.	Имеется 2 коммутирующих контроллера на esp8266, в каждом по 8 линий (коммутаций), всего 16 линий. Контроллеры подключены по WiFi к одной сети, у каждого имеется свой IP адрес. Каждый контроллер прошит и сам по себе на своем IP-адресе формирует Web-интерфейс управления коммутацией. Исходники прошивок в наличии (для анализа протоколов/структуры запросов либо модификации веб-интерфейса).
2.	Имеется «большой» коммутатор антенн с 2-мя входами и 6 выходами, с возможностью подключения любого из 6 выходов к обоим входам (оба входа одновременно могут быть скоммутированы с разными выходами). Управляется коммутатор по 2-м 6-линейным кабелям (изначально - с двух отдельных пультов управления, для входа 1 и входа 2).
3.	К одному из 6 выходов «большого» коммутатора (для примера пусть это будет выход 6) подключен еще один «малый» антенный коммутатор на 4 выхода. Управляется коммутатор по отдельному 4-линейному кабелю.
4.	Комплекс коммутаторов в такой схеме получает возможность коммутировать 9 выходов к 2 входам, но с оговоркой – 4 выхода на «малом» коммутаторе не могут быть подключены к двум входам одновременно, может быть подключен только один из них ко входу, скоммутированому с выходом 6 «большого» коммутатора.

Задачи:
1.	Необходимо управлять этим комплексом коммутаторов параллельно с двух компьютеров (рабочих мест). Каждый компьютер управляет коммутацией для своего входа 1 или 2 «большого» коммутатора.
2.	Каждый компьютер коммутирует только свой вход со СВОБОДНЫМИ (не скоммутированными с другим входом) выходами, но необходимо предусмотреть режим полного управления всем комплексом с одного компьютера.
3.	Интерфейс должен быть настраиваемым, с возможностью выбора рабочего места и задания обозначений выходам. В интерфейсе должна быть предусмотрена индикация «свободных» для подключения к текущему входу и/или «занятых» другим рабочим местом выходов, с защитой от попытки их случайного подключения.

Уточнения:
1.	  Реализовать управление можно как с помощью отдельного windows-приложения, запускаемого на каждом из рабочих мест, так и организацией веб-интерфейса. Чтобы оставить без изменений уже существующие в контроллерах веб-интерфейсы (что предпочтительно), при необходимости возможно применение еще одного 3-го контроллера esp8266 в качестве сервера, с организацией веб-интерфейса на его базе. Можно также разместить локальные веб-приложения на рабочих местах.
2.	Предпочтительным видится именно создание windows-приложения для управления комплексом, но в данном случае необходимо отталкиваться от максимальной простоты реализации задачи без ущерба удобству пользования.
3.	Поскольку для управления «большим» коммутатором необходимо 12 линий, и 4 линии для «малого» коммутатора, в контроллерах будут задействованы все 16 коммутаций в разных комбинациях. При этом количество коммутируемых конечных выходов комплекса - 9. 
4.	Необходимо предусмотреть логику управления «малым» коммутатором, 4 выхода которого будут работать только при подключении одного из входов к выходу 6 «большого» коммутатора, при этом не только подключенный, но и оставшиеся 3 выхода «малого» коммутатора становятся недоступными для коммутации к другому входу. 

